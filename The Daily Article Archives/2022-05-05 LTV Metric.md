# 2022-05-05 LTV Metric
## LTV (Life Time Value) 지표 속 BG/NBD 모델과 Gamma-Gamma 모델 파헤치기
source)  [LTV (Life Time Value) 지표 속 BG/NBD 모델과 Gamma-Gamma 모델 파헤치기 | Product Analytics Playground](https://playinpap.github.io/ltv/)
* LTV - 고객이 평생동안 기업에게 언 정도의 가치를 가져다 주는지를 정량화한 지표 -> 확률 기반 모형으로 특정한 시점(t)에서 고객마다 어느 정도의 생애 가치를 가지는지 측정할 수 있도록 함
	* 고객의 과거 구매 정보를 가지고
		* 첫 구매 ~ 집계일까지의 시간 (Time)
		* 첫 구매 ~ 마지막 구매까지의 시간 (Recency)
		* 첫 구매 ~ 집계일까지의 구매 횟수 (Frequency)
		* 구매 건 마다의 구매 금액 (Monetary Value)
	* 미래의 예상 구매 횟수 * 예상 평균 수익으로 계산
		* 미래의 예상 구매 횟수 : RFM (Time, Recency, Frequency) 정보를 가지고 BG/NBD라는 모델을 활용하여 추정
		* 예상 평균 수익 : 구매 금액의 정보를 가지고 Gamma-Gamma 모델로 추정
* Concepts of Buy Till You Die Model
	* Transaction & Buy : 고객이 남아있는 동안, 고객의 구매 횟수는 일정한 기간 동안의 구매율을 모수로 하는 포아송 분포를 따름 -> 이 구매율이 고객마다 다르고, 전체 고객들의 구매율을 Gamma(r, a)를 따른다고 가정
	* Dropout : 각 고객들을 이탈률 p를 가짐 -> 이탈 확률을 고객마다 달라 Beta(a, b)를 따른다고 가정
* 고객의 예상 구매 횟수를 계산하는 BG/NBD 모형
	* 포아송 분포 : 단위 시간 동안의 성공 횟수에 대한 분포 -> 한 달의 평균 구매 횟수
	* 감마 분포 : 사건을 n번 시행할 때가지의 총 시간에 대한 분포 -> r번 구매할 때까지 걸리는 시간
	* 기하 분포 : 사건이 1번 발생할 때까지의 시도 횟수에 대한 분포 -> ‘이탈’할 때까지 총 구매 횟수
	* 베타 분포 : 확률에 대한 분포 -> 이탈률 p에 대한 분포
* 고객의 예상 구매 금액을 계산하는 Gamma-Gamma 모델
	* 가정
		* 고객별 구매 금액은 평균 구매 금액을 중심으로 랜덤하게 분포
		* 고객들의 평균 구매 금액은 고객마다 다르지만, 한 고객의 평균 구매 금액은 시간에 따라 불변
		* 이 평균 구매 금액은 구매 과정과 독립
	* Gamma 분포를 가정하는 이유 - 소비의 특성을 반영
		* 0 이상의 값을 가지고, 모수 2개로 비대칭적인 형태를 쉽게 만들 수 있어!
* 활용 - 고객마다 다른 미래 가치를 계산해주기 때문에 고객 단위의 타깃팅 가능
	* 고객마다 학습에 들어가는 T, R, F, M 정보와 결합하여
		* 구매 빈도는 낮은데 LTV가 높은 고객
		* 구매 빈도, 평균 구매 금액이 높고 LTV가 높은 고객
		* 등 사용자 분류를 통해 이에 맞는 고객 관리 가능